#!/bin/bash
# Fetch running courses from AIMS comboHelpAjax endpoint
# This fetches paginated course data and requires proper authentication

# Usage: Set environment variables, then run:
#   ./fetch_courses.sh [page_number] [output_file]

if [ -z "${AIMS_COOKIE:-}" ]; then
  echo "Error: AIMS_COOKIE environment variable not set" >&2
  echo "Export your session cookie from the browser" >&2
  exit 1
fi

if [ -z "${AIMS_STUDENT_ID:-}" ]; then
  echo "Error: AIMS_STUDENT_ID environment variable not set" >&2
  exit 1
fi

# Default parameters - adjust these based on your AIMS instance
PAGE_NO="${1:-1}"
OUTPUT_FILE="${2:-courses_page${PAGE_NO}.json}"
PAGE_SIZE="${3:-200}"

# These IDs may need to be adjusted based on your AIMS instance
# You can get these from browser dev tools when accessing the course registration page
STUDENT_DEGREE_ID="${AIMS_STUDENT_DEGREE_ID:-13863}"
ELECTIVE_TYPE_ID="${AIMS_ELECTIVE_TYPE_ID:-22}"
ACAD_PERIOD_ID="${AIMS_ACAD_PERIOD_ID:-68}"
REG_TYPE_ID="${AIMS_REG_TYPE_ID:-1}"

echo "Fetching page $PAGE_NO (page size: $PAGE_SIZE) to $OUTPUT_FILE"

curl 'https://aims.iith.ac.in/aims/help/comboHelpAjax' \
  -H 'Accept: */*' \
  -H 'Accept-Language: en-US,en;q=0.9' \
  -H 'Connection: keep-alive' \
  -H 'Content-Type: application/x-www-form-urlencoded; charset=UTF-8' \
  -b "$AIMS_COOKIE" \
  -H 'Origin: https://aims.iith.ac.in' \
  -H 'Referer: https://aims.iith.ac.in/aims/courseReg/studentRegForm/'$ACAD_PERIOD_ID \
  -H 'Sec-Fetch-Dest: empty' \
  -H 'Sec-Fetch-Mode: cors' \
  -H 'Sec-Fetch-Site: same-origin' \
  -H 'User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36' \
  -H 'X-Requested-With: XMLHttpRequest' \
  --data-raw 'object=%7B%22beforeCallBack%22%3A%22chngCourseDep%22%2C%22electiveTypeId%22%3Anull%2C%22electiveType%22%3A%22eType_5_'$STUDENT_DEGREE_ID'_1%22%2C%22clearFields%22%3A%7B%22nvFlag%22%3A%22%23nameVariableFlag_5_'$STUDENT_DEGREE_ID'_1%22%2C%22locCd%22%3A%22%23cLoc_5_'$STUDENT_DEGREE_ID'_1%22%2C%22coordLocId%22%3A%22%23rcCrLoc_5_'$STUDENT_DEGREE_ID'_1%22%2C%22cDesc%22%3A%22%23cDescription_5_'$STUDENT_DEGREE_ID'_1%22%2C%22cCredits%22%3A%22%23credits_5_'$STUDENT_DEGREE_ID'_1%22%2C%22sType%22%3A%22%23sType_5_'$STUDENT_DEGREE_ID'_1%22%2C%22coordId%22%3A%22%23crdId_5_'$STUDENT_DEGREE_ID'_1%22%2C%22cName%22%3A%22%23cDesc_5_'$STUDENT_DEGREE_ID'_1%22%2C%22rcId%22%3A%22%23rcId_5_'$STUDENT_DEGREE_ID'_1%22%2C%22cMarks%22%3A%22%23maxMarks_5_'$STUDENT_DEGREE_ID'_1%22%2C%22coordName%22%3A%22%23cCr_5_'$STUDENT_DEGREE_ID'_1%22%2C%22cCrd%22%3A%22%23cCrd_5_'$STUDENT_DEGREE_ID'_1%22%2C%22courseId%22%3A%22%23cId_5_'$STUDENT_DEGREE_ID'_1%22%2C%22locId%22%3A%22%23locId_5_'$STUDENT_DEGREE_ID'_1%22%2C%22courseSlotId%22%3A%22%23courseSlotId_5_'$STUDENT_DEGREE_ID'_1%22%7D%2C%22extraParams%22%3A%7B%22studentId%22%3A%22'$AIMS_STUDENT_ID'%22%2C%22studentDegreeId%22%3A%22'$STUDENT_DEGREE_ID'%22%2C%22electiveTypeId%22%3A%22'$ELECTIVE_TYPE_ID'%22%2C%22acadPeriodId%22%3A%22'$ACAD_PERIOD_ID'%22%2C%22electiveType%22%3A%22eType_5_'$STUDENT_DEGREE_ID'_1%22%2C%22regTypeId%22%3A%22'$REG_TYPE_ID'%22%7D%2C%22title%22%3A%22Running+Courses%22%2C%22regTypeId%22%3A%22'$REG_TYPE_ID'%22%2C%22studentId%22%3A%22'$AIMS_STUDENT_ID'%22%2C%22pageQuery%22%3A%22+LIMIT+%3Alimit+OFFSET+%3Aoffset%22%2C%22defaultOrder%22%3A%22ORDER+BY+ac.course_name+ASC%22%2C%22appKey%22%3A%22AMS%22%2C%22id%22%3A%22cCd_5_'$STUDENT_DEGREE_ID'_1%22%2C%22key%22%3A%22COURSEREG%22%2C%22focusObj%22%3A%7B%22nvFlag%22%3A%22nameVariableFlag_5_'$STUDENT_DEGREE_ID'_1%22%2C%22cCode%22%3A%22cCd_5_'$STUDENT_DEGREE_ID'_1%22%2C%22locCd%22%3A%22cLoc_5_'$STUDENT_DEGREE_ID'_1%22%2C%22coordLocId%22%3A%22rcCrLoc_5_'$STUDENT_DEGREE_ID'_1%22%2C%22cDesc%22%3A%22cDescription_5_'$STUDENT_DEGREE_ID'_1%22%2C%22cCredits%22%3A%22credits_5_'$STUDENT_DEGREE_ID'_1%22%2C%22sType%22%3A%22sType_5_'$STUDENT_DEGREE_ID'_1%22%2C%22coordId%22%3A%22crdId_5_'$STUDENT_DEGREE_ID'_1%22%2C%22cName%22%3A%22cDesc_5_'$STUDENT_DEGREE_ID'_1%22%2C%22rcId%22%3A%22rcId_5_'$STUDENT_DEGREE_ID'_1%22%2C%22cMarks%22%3A%22maxMarks_5_'$STUDENT_DEGREE_ID'_1%22%2C%22coordName%22%3A%22cCr_5_'$STUDENT_DEGREE_ID'_1%22%2C%22cCrd%22%3A%22cCrd_5_'$STUDENT_DEGREE_ID'_1%22%2C%22courseId%22%3A%22cId_5_'$STUDENT_DEGREE_ID'_1%22%2C%22locId%22%3A%22locId_5_'$STUDENT_DEGREE_ID'_1%22%2C%22courseSlotId%22%3A%22courseSlotId_5_'$STUDENT_DEGREE_ID'_1%22%7D%2C%22checkFields%22%3A%7B%22studentId%22%3A%22%23studentId%22%2C%22studentDegreeId%22%3A%22%23stdntDeg_5_'$STUDENT_DEGREE_ID'_1%22%2C%22electiveTypeId%22%3A%22%23eType_5_'$STUDENT_DEGREE_ID'_1%22%2C%22cCode%22%3A%22%23cCd_5_'$STUDENT_DEGREE_ID'_1%22%2C%22cDesc%22%3A%22%23cDescription_5_'$STUDENT_DEGREE_ID'_1%22%2C%22regTypeId%22%3A%22%23stdntReg_5_'$STUDENT_DEGREE_ID'_1%22%7D%2C%22studentDegreeId%22%3A%22'$STUDENT_DEGREE_ID'%22%2C%22Help_Identity_Column%22%3A%22rcId%22%2C%22acadPeriodId%22%3A%22'$ACAD_PERIOD_ID'%22%2C%22query%22%3A%22+SELECT+main.running_course_id+as+rcId%2C++main.course_id+as+courseId%2C+main.course_reg_start_dt+as+regStrtDt%2C+main.course_slot_id+AS+courseSlotId%2C+COALESCE(ascre.ext_course_reg_end_dt%2C+main.course_reg_end_dt)+as+regEndDt%2C+main.course_start_dt+as+strtDt%2C+main.course_end_dt+as+endDt%2C+ac.course_cd+AS+cCode%2C+ac.course_desc+as+cDesc%2Cac.course_name+AS+cName%2C+ac.name_variable_flag+AS+nvFlag%2C+ac.credits+AS+cCredits%2C+ac.credits+AS+cCrd%2C+ac.credits_variable_flg+AS+cvFlg%2C+CASE+WHEN+ac.credits_variable_flg+%3D+\'1\'+THEN+\'Yes\'+ELSE+\'No\'+END+AS+cvFlgV%2C+at.tz_cd+AS+tzCd%2C+at.tz_name+AS+tzName%2C+ast.max_score+AS+cMarks%2C+ast.score_type_desc+AS+sType%2C+arccl.running_course_coord_loc_id+as+coordLocId%2C+arccl.coordinator_id+as+coordId%2C+arccl.location_id+as+locId%2C+ast.score_category_id+AS+scId%2C+ast.score_type_desc+AS+stDesc%2C+ast.max_score+AS+mScore%2C+ast.pass_score+AS+pScore%2C+ai.instructor_name+as+coordName%2C+al.location_cd+as+locCd%2C+acs.course_slot_desc+AS+courseSlotDesc%2C+al.location_desc+as+locName%2C+count(1)+over()+as+tot_record_count+FROM+acad_running_course+main+INNER+JOIN+acad_course+ac+ON+(main.course_id+%3D+ac.course_id+AND+main.running_course_dt+BETWEEN+ac.eft_from_dt+AND+COALESCE(ac.eft_to_dt%2C+\'9999-12-31\'+)+AND+ac.record_status+%3D+\'A\')+INNER+JOIN+app_timezones+at+ON+at.tz_id+%3D+main.tz_id+AND+at.record_status+%3D+\'A\'+INNER+JOIN+acad_score_type+ast+ON+ast.score_type_id+%3D+ac.score_type_id+AND+ast.record_status+%3D+\'A\'+INNER+JOIN+acad_running_course_coordinator_locations+arccl+ON+(main.running_course_id+%3D+arccl.running_course_id+AND+arccl.record_status+%3D+\'A\')+INNER+JOIN+acad_instructor+ai+ON+(arccl.coordinator_id+%3D+ai.instructor_id+AND+ai.record_status+%3D+\'A\')+INNER+JOIN+app_locations+al++ON+(arccl.location_id+%3D+al.location_id+AND+al.record_status+%3D+\'A\')++LEFT+OUTER+JOIN+acad_student_course_reg_ext_v+ascre++ON+(ascre.student_id+%3D+%3AstudentId+AND+ascre.running_course_id+%3D+main.running_course_id)+INNER+JOIN+acad_period+ap++ON+(ap.period_id+%3D+%3AacadPeriodId++AND+(main.running_course_dt+BETWEEN+ap.from_dt+AND+ap.to_dt)++AND+ap.record_status%3D\'A\')++INNER+JOIN+acad_running_course_periods+arcp++ON+(arcp.running_course_id+%3D+main.running_course_id++AND+arcp.record_status%3D\'A\'+AND+arcp.period_id+%3D+%3AacadPeriodId)++LEFT+JOIN+acad_course_slot+acs+ON(acs.course_slot_id+%3D+main.course_slot_id+AND+acs.record_status+%3D+\'A\')+WHERE++main.record_status+%3D+\'A\'+AND+CURRENT_TIMESTAMP+at+time+zone+\'UTC\'+%3C%3D+main.course_end_dt+AND+CURRENT_TIMESTAMP+at+time+zone+\'UTC\'+%3E%3D+main.course_reg_start_dt+AND+CURRENT_TIMESTAMP+at+time+zone+\'UTC\'+%3C%3D+COALESCE(ascre.ext_course_reg_end_dt%2C+main.course_reg_end_dt)++AND+EXISTS+(+SELECT+arce.running_course_id+FROM+acad_running_course_eligibility+arce+WHERE+arce.running_course_id+%3D+main.running_course_id+AND+arce.record_status+%3D+\'A\'+AND+(arce.course_elective_type_id+%3D+%3AelectiveTypeId+OR+arce.all_course_elective_type_flg+%3D+\'Y\')+AND+(arce.degree_id+IN+(+SELECT+asd.degree_id+FROM+acad_student_degree+asd+WHERE+asd.student_id+%3D+%3AstudentId+AND+asd.student_degree_id+%3D+%3AstudentDegreeId+AND+asd.degree_status_id+%3D+6+AND+asd.record_status+%3D+\'A\')+OR+arce.all_degree_flg+%3D+\'Y\')+AND+(arce.batch_id+IN++(+SELECT+asd.batch_id+FROM+acad_student_degree+asd+WHERE+asd.student_id+%3D+%3AstudentId+AND+asd.student_degree_id+%3D+%3AstudentDegreeId+AND+asd.degree_status_id+%3D+6+AND+asd.record_status+%3D+\'A\')+OR+arce.all_batch_flg+%3D+\'Y\'))%22%2C%22afterCallBack%22%3A%22chkSelCourse%22%2C%22mappingInd%22%3Atrue%2C%22help_search_list%22%3A%5B%22%7B%5C%22isOrderable%5C%22%3Afalse%2C%5C%22isDisplayable%5C%22%3Afalse%2C%5C%22isSearchable%5C%22%3Afalse%2C%5C%22columnAlias%5C%22%3A%5C%22cDesc%5C%22%7D%22%2C%22%7B%5C%22isOrderable%5C%22%3Atrue%2C%5C%22columnDisplayName%5C%22%3A%5C%22Course+Code%5C%22%2C%5C%22columnWidth%5C%22%3A80%2C%5C%22isDisplayable%5C%22%3Atrue%2C%5C%22isSearchable%5C%22%3Atrue%2C%5C%22columnDataType%5C%22%3A12%2C%5C%22columnAlias%5C%22%3A%5C%22cCode%5C%22%7D%22%2C%22%7B%5C%22isOrderable%5C%22%3Atrue%2C%5C%22columnDisplayName%5C%22%3A%5C%22Course%5C%22%2C%5C%22columnWidth%5C%22%3A300%2C%5C%22isDisplayable%5C%22%3Atrue%2C%5C%22isSearchable%5C%22%3Atrue%2C%5C%22columnDataType%5C%22%3A12%2C%5C%22columnAlias%5C%22%3A%5C%22cName%5C%22%7D%22%2C%22%7B%5C%22isOrderable%5C%22%3Atrue%2C%5C%22columnDisplayName%5C%22%3A%5C%22Credits%5C%22%2C%5C%22columnWidth%5C%22%3A50%2C%5C%22isDisplayable%5C%22%3Atrue%2C%5C%22isSearchable%5C%22%3Atrue%2C%5C%22columnDataType%5C%22%3A8%2C%5C%22columnAlias%5C%22%3A%5C%22cCrd%5C%22%7D%22%2C%22%7B%5C%22isOrderable%5C%22%3Atrue%2C%5C%22columnDisplayName%5C%22%3A%5C%22Coordinator%5C%22%2C%5C%22columnWidth%5C%22%3A200%2C%5C%22isDisplayable%5C%22%3Atrue%2C%5C%22isSearchable%5C%22%3Atrue%2C%5C%22columnDataType%5C%22%3A12%2C%5C%22columnAlias%5C%22%3A%5C%22coordName%5C%22%7D%22%2C%22%7B%5C%22isOrderable%5C%22%3Atrue%2C%5C%22columnDisplayName%5C%22%3A%5C%22Location%5C%22%2C%5C%22columnWidth%5C%22%3A80%2C%5C%22isDisplayable%5C%22%3Atrue%2C%5C%22isSearchable%5C%22%3Atrue%2C%5C%22columnDataType%5C%22%3A12%2C%5C%22columnAlias%5C%22%3A%5C%22locName%5C%22%7D%22%2C%22%7B%5C%22isOrderable%5C%22%3Atrue%2C%5C%22columnDisplayName%5C%22%3A%5C%22Score+Type%5C%22%2C%5C%22columnWidth%5C%22%3A150%2C%5C%22isDisplayable%5C%22%3Atrue%2C%5C%22isSearchable%5C%22%3Atrue%2C%5C%22columnDataType%5C%22%3A12%2C%5C%22columnAlias%5C%22%3A%5C%22stDesc%5C%22%7D%22%2C%22%7B%5C%22isOrderable%5C%22%3Atrue%2C%5C%22columnDisplayName%5C%22%3A%5C%22Max+Score%5C%22%2C%5C%22columnWidth%5C%22%3A75%2C%5C%22isDisplayable%5C%22%3Atrue%2C%5C%22isSearchable%5C%22%3Atrue%2C%5C%22columnDataType%5C%22%3A8%2C%5C%22columnAlias%5C%22%3A%5C%22mScore%5C%22%7D%22%2C%22%7B%5C%22isOrderable%5C%22%3Atrue%2C%5C%22columnDisplayName%5C%22%3A%5C%22Pass+Score%5C%22%2C%5C%22columnWidth%5C%22%3A75%2C%5C%22isDisplayable%5C%22%3Atrue%2C%5C%22isSearchable%5C%22%3Atrue%2C%5C%22columnDataType%5C%22%3A8%2C%5C%22columnAlias%5C%22%3A%5C%22pScore%5C%22%7D%22%2C%22%7B%5C%22isOrderable%5C%22%3Atrue%2C%5C%22columnDisplayName%5C%22%3A%5C%22Credits+Variable%5C%22%2C%5C%22columnWidth%5C%22%3A100%2C%5C%22isDisplayable%5C%22%3Atrue%2C%5C%22isSearchable%5C%22%3Atrue%2C%5C%22columnDataType%5C%22%3A12%2C%5C%22columnAlias%5C%22%3A%5C%22cvFlgV%5C%22%7D%22%2C%22%7B%5C%22isOrderable%5C%22%3Atrue%2C%5C%22columnDisplayName%5C%22%3A%5C%22Time+zone%5C%22%2C%5C%22columnWidth%5C%22%3A100%2C%5C%22isDisplayable%5C%22%3Atrue%2C%5C%22isSearchable%5C%22%3Atrue%2C%5C%22columnDataType%5C%22%3A93%2C%5C%22columnAlias%5C%22%3A%5C%22tzName%5C%22%7D%22%2C%22%7B%5C%22isOrderable%5C%22%3Atrue%2C%5C%22dbTimeZoneInd%5C%22%3Atrue%2C%5C%22columnDisplayName%5C%22%3A%5C%22Reg.+Start+Dt%5C%22%2C%5C%22format%5C%22%3A%5C%22dd+MMM%2C+yyyy+HH%3Amm%5C%22%2C%5C%22columnWidth%5C%22%3A110%2C%5C%22toTimeZone%5C%22%3A%5C%22tzName%5C%22%2C%5C%22isDisplayable%5C%22%3Atrue%2C%5C%22isSearchable%5C%22%3Atrue%2C%5C%22columnDataType%5C%22%3A93%2C%5C%22columnAlias%5C%22%3A%5C%22regStrtDt%5C%22%7D%22%2C%22%7B%5C%22isOrderable%5C%22%3Atrue%2C%5C%22dbTimeZoneInd%5C%22%3Atrue%2C%5C%22columnDisplayName%5C%22%3A%5C%22Reg.+End+Dt%5C%22%2C%5C%22format%5C%22%3A%5C%22dd+MMM%2C+yyyy+HH%3Amm%5C%22%2C%5C%22columnWidth%5C%22%3A110%2C%5C%22toTimeZone%5C%22%3A%5C%22tzName%5C%22%2C%5C%22isDisplayable%5C%22%3Atrue%2C%5C%22isSearchable%5C%22%3Atrue%2C%5C%22columnDataType%5C%22%3A93%2C%5C%22columnAlias%5C%22%3A%5C%22regEndDt%5C%22%7D%22%2C%22%7B%5C%22isOrderable%5C%22%3Atrue%2C%5C%22dbTimeZoneInd%5C%22%3Atrue%2C%5C%22columnDisplayName%5C%22%3A%5C%22Course+Start+Dt%5C%22%2C%5C%22format%5C%22%3A%5C%22dd+MMM%2C+yyyy+HH%3Amm%5C%22%2C%5C%22columnWidth%5C%22%3A110%2C%5C%22toTimeZone%5C%22%3A%5C%22tzName%5C%22%2C%5C%22isDisplayable%5C%22%3Atrue%2C%5C%22isSearchable%5C%22%3Atrue%2C%5C%22columnDataType%5C%22%3A93%2C%5C%22columnAlias%5C%22%3A%5C%22strtDt%5C%22%7D%22%2C%22%7B%5C%22isOrderable%5C%22%3Atrue%2C%5C%22dbTimeZoneInd%5C%22%3Atrue%2C%5C%22columnDisplayName%5C%22%3A%5C%22Course+End+Dt%5C%22%2C%5C%22format%5C%22%3A%5C%22dd+MMM%2C+yyyy+HH%3Amm%5C%22%2C%5C%22columnWidth%5C%22%3A110%2C%5C%22toTimeZone%5C%22%3A%5C%22tzName%5C%22%2C%5C%22isDisplayable%5C%22%3Atrue%2C%5C%22isSearchable%5C%22%3Atrue%2C%5C%22columnDataType%5C%22%3A93%2C%5C%22columnAlias%5C%22%3A%5C%22endDt%5C%22%7D%22%2C%22%7B%5C%22isOrderable%5C%22%3Afalse%2C%5C%22isDisplayable%5C%22%3Afalse%2C%5C%22isSearchable%5C%22%3Afalse%2C%5C%22columnAlias%5C%22%3A%5C%22courseSlotId%5C%22%7D%22%5D%2C%22field%22%3A%22cCode%22%2C%22noOrderInd%22%3Atrue%2C%22addQuery%22%3A%22+%22%2C%22pageNo%22%3A'$PAGE_NO'%2C%22pageSize%22%3A%22'$PAGE_SIZE'%22%2C%22searchByArr%22%3A%5B%7B%22dataType%22%3A%220%22%2C%22searchBy%22%3A%22-1%22%2C%22searchOperator%22%3A%221%22%2C%22fromDate%22%3A%22%22%2C%22toDate%22%3A%22%22%2C%22searchTxt%22%3A%22%22%7D%5D%2C%22orderByArr%22%3A%5B%5D%2C%22searchArr%22%3A%5B%7B%22column%22%3A%22cCode%22%2C%22width%22%3A%2280%22%2C%22dataType%22%3A%2212%22%7D%2C%7B%22column%22%3A%22cName%22%2C%22width%22%3A%22300%22%2C%22dataType%22%3A%2212%22%7D%2C%7B%22column%22%3A%22cCrd%22%2C%22width%22%3A%2250%22%2C%22dataType%22%3A%228%22%7D%2C%7B%22column%22%3A%22coordName%22%2C%22width%22%3A%22200%22%2C%22dataType%22%3A%2212%22%7D%2C%7B%22column%22%3A%22locName%22%2C%22width%22%3A%2280%22%2C%22dataType%22%3A%2212%22%7D%2C%7B%22column%22%3A%22stDesc%22%2C%22width%22%3A%22150%22%2C%22dataType%22%3A%2212%22%7D%2C%7B%22column%22%3A%22mScore%22%2C%22width%22%3A%2275%22%2C%22dataType%22%3A%228%22%7D%2C%7B%22column%22%3A%22pScore%22%2C%22width%22%3A%2275%22%2C%22dataType%22%3A%228%22%7D%2C%7B%22column%22%3A%22cvFlgV%22%2C%22width%22%3A%22100%22%2C%22dataType%22%3A%2212%22%7D%2C%7B%22column%22%3A%22tzName%22%2C%22width%22%3A%22100%22%2C%22dataType%22%3A%2293%22%7D%2C%7B%22column%22%3A%22regStrtDt%22%2C%22width%22%3A%22110%22%2C%22dataType%22%3A%2293%22%7D%2C%7B%22column%22%3A%22regEndDt%22%2C%22width%22%3A%22110%22%2C%22dataType%22%3A%2293%22%7D%2C%7B%22column%22%3A%22strtDt%22%2C%22width%22%3A%22110%22%2C%22dataType%22%3A%2293%22%7D%2C%7B%22column%22%3A%22endDt%22%2C%22width%22%3A%22110%22%2C%22dataType%22%3A%2293%22%7D%5D%2C%22selectedInd%22%3Afalse%2C%22selectedArr%22%3A%5B%5D%2C%22idColumn%22%3A%22rcId%22%7D' \
  -o "$OUTPUT_FILE"

echo ""
echo "Saved response to $OUTPUT_FILE"
echo "Parse it with: python parse_combo_response.py $OUTPUT_FILE courses.csv"
